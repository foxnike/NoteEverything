# 事件系统

## 声明与调用
事件是合约的可继承成员，事件的声明与调用格式如下：

```
event addCar(string indexed carId, uint256 indexed carIndex);

emit addCar(_ID, index);
```

## 事件存储
事件被调用时，他们会将参数存储在交易的日志上，这些日志与合约地址相关联，存储在区块链上；

由于事件存储在区块链上，日志及其事件数据无法从合约内部访问，包括声明合约以及其子合约；

## indexd关键字

事件的参数有一个可选的`indexed`属性，他们会被添加到一个特殊的数据结构"topic"，而非事件的数据部分。

一个"topic"只能存储32字节的数据，如果使用引用类型，"topic"会存储该值的Keccak-256哈希值。

相反，非`indexd`参数会被**ABI编码**到日志的数据部分；

## 用途

事件系统可用于合约与外部应用程序交互：

智能合约运行在EVM中，无法获取外部的数据。使用事件系统可以在需要外部数据时，使用事件系统发出数据请求，外部程序根据请求主动调用智能合约并输入相应数据。